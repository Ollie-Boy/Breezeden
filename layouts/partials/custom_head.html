<!-- Lightbox JS -->
<script type='text/javascript' src='{{ "js/lightbox.js" | relURL }}'></script>

<!-- Back to Top Button -->
<script src='{{ "js/vanilla-back-to-top.min.js" | relURL }}'></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    addBackToTop({
        id: 'backToTopButton',
        backgroundColor: '#f8f8f8',
        textColor: '#333',
        size: 100,
        scrollDuration: 777,
        innerElement: '<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7 14l5-5 5 5H7z" fill="currentColor"/></svg>',
        cornerOffset: 50 // initial distance from bottom & right
    });

    const btn = document.getElementById('backToTopButton');
    if (!btn) return;

    // Move button more to the left
    btn.style.right = '150px'; // increase distance from the right

    // Style for cute, silly effect
    btn.style.borderRadius = '50%';
    btn.style.boxShadow = '0 8px 20px rgba(0,0,0,0.25)';
    btn.style.transition = 'transform 0.3s ease, box-shadow 0.3s ease';
    btn.style.fontFamily = '"Patrick Hand SC", sans-serif';

    // Floating animation
    btn.animate(
        [
            { transform: 'translateY(0)' },
            { transform: 'translateY(-12px)' },
            { transform: 'translateY(0)' }
        ],
        {
            duration: 3000,
            iterations: Infinity,
            easing: 'ease-in-out'
        }
    );

    // Arrow wiggle
    const svg = btn.querySelector('svg');
    if (svg) {
        svg.animate(
            [
                { transform: 'rotate(0deg)' },
                { transform: 'rotate(15deg)' },
                { transform: 'rotate(-12deg)' },
                { transform: 'rotate(10deg)' },
                { transform: 'rotate(-8deg)' },
                { transform: 'rotate(5deg)' },
                { transform: 'rotate(0deg)' }
            ],
            {
                duration: 1500,
                iterations: Infinity,
                easing: 'ease-in-out'
            }
        );
    }

    // Optional: responsive adjustment
    function resizeButton() {
        if (window.innerWidth <= 768) {
            btn.style.width = '60px';
            btn.style.height = '60px';
            btn.style.right = '20px'; // move closer on mobile
        } else {
            btn.style.width = '100px';
            btn.style.height = '100px';
            btn.style.right = '150px'; // desktop left position
        }
    }
    window.addEventListener('resize', resizeButton);
    resizeButton(); // initial call
});

</script>

<!-- KaTeX -->
<link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/katex@0.16.19/dist/katex.min.css' integrity='sha384-7lU0muIg/i1plk7MgygDUp3/bNRA65orrBub4/OSWHECgwEsY83HaS1x3bljA/XV' crossorigin='anonymous'>
<script defer src='https://cdn.jsdelivr.net/npm/katex@0.16.19/dist/katex.min.js' integrity='sha384-RdymN7NRJ+XoyeRY4185zXaxq9QWOOx3O7beyyrRK4KQZrPlCDQQpCu95FoCGPAE' crossorigin='anonymous'></script>
<script defer src='https://cdn.jsdelivr.net/npm/katex@0.16.19/dist/contrib/auto-render.min.js' integrity='sha384-hCXGrW6PitJEwbkoStFjeJxv+fSOOQKOPbJxSfM6G5sWZjAyWhXiTIIAmQqnlLlh' crossorigin='anonymous' onload='renderMathInElement(document.body);'></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    renderMathInElement(document.body, {
        delimiters: [
            { left: '$$', right: '$$', display: true },
            { left: '$', right: '$', display: false },
            { left: '\\(', right: '\\)', display: false },
            { left: '\\[', right: '\\]', display: true }
        ]
    });
});
</script>



<!-- Clock scripts and styles -->
<link rel="stylesheet" href="{{ "css/clock.css" | relURL }}">
<script src="{{ "js/clock.js" | relURL }}"></script>
